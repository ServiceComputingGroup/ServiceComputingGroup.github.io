---
layout: post
title: 项目小结-李怡科
categories: Simplewebserver
description: 李怡科的项目小结
keywords: 项目小结
---

# 项目小结  

这次试验我负责的部分是后端各项功能（User的修改添加查找以及数据的查询） 的编写。 

### 主要的内容

1、使用token进行用户登录的验证以及查询时的授权。这部分主要涉及的内容有：

1）客户端启动时

在客户端打开的时候，从客户端向服务端发送token（如果没有注册过，则是""）。服务端检测token是否合法，如果合法则解析token，拿到token中的exp（过期时间）属性。如果当前时间已在过期时间后，则token过期，客户端需要再登录/注册，否则则是上一个登录用户的已登录状态。

2）注册、登录、注销

注册/登录成功后，服务端会返回一个合法token，过期时间为注册/登录时的时间推后1小时。登出时也会返回一个token，过期时间为登出的时间（即下一次判断的时候一定过期）。

3）token设计

token包括user的username，当前时间和过期时间，使用的key为"UserToken"

---

2、query查询函数

这部分的设计思路为前端在用户查询时向后端发送一个json数据，包括查询的type，page（可选）和index（可选）以及用于判断是否登录的token。服务端根据这个json数据去数据库中拿到相应的数据，并以json字符串的形式返回给前端。

---

3、用户查询、修改、注册函数

这部分没有什么比较困难的地方，主要是对数据库的User数据进行更新

---

个人总结：

经过这次项目，我再次加深了对如何使用go搭建服务端的理解，同时也对Graphql框架有了一定的了解。为了实现授权功能，我了解了token的设计与实现方法。除此之外，我还了解了json字符串的构建、解析等操作。最后，感谢搭框架、构建数据库以及前端的大佬，因为他们，小组的项目才能进行得如此顺畅，tql(抱拳
